(this["webpackJsonpe-commerce-app"]=this["webpackJsonpe-commerce-app"]||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},12:function(e,t,a){e.exports=a(20)},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);a(13);var n=a(0),r=a.n(n),o=a(10),s=a.n(o),c=(a(18),a(2)),i=a(8),l=a(3),u=a(4),d=a(6),m=a(5),h=a(1),p=a(11),y=a.n(p),f=(a(19),{brocoli:{key:"brocoli",name:"Brocoli",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/broccoli.jpg",keywords:["vegetable","diet","food","fresh","green"],price:4},grapes:{name:"Grapes",key:"grapes",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/grape.jpg",keywords:["food","fresh","fruit","green"],price:5},strawberries:{name:"Strawberries",key:"strawberries",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/strawberry.jpg",keywords:["food","fresh","fruit","breakfast"],price:6},cheese:{name:"Cheese",key:"cheese",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/cheese2.png",keywords:["dairy","breakfast","food"],price:5},yogurt:{name:"Yogurt",key:"yogurt",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/yoghurt.png",keywords:["dairy","food","breakfast"],price:3},toothpaste:{name:"Toothpaste",key:"toothpaste",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/toothpaste.png",keywords:["dental","hygiene"],price:10},shampoo:{name:"Shampoo",key:"shampoo",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/shampoo.png",keywords:["hair","hygiene"],price:15},soap:{name:"Soap",key:"soap",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/soap.jpg",keywords:["body","hygiene"],price:2},wine:{name:"Wine",key:"wine",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/wine.png",keywords:["alcohol","bar","beverage"],price:12},napkins:{name:"Napkins",key:"napkins",imageURL:"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/napkin.png",keywords:["bar","table"],price:4}}),g=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var r,o,s=localStorage.getItem("user_cart"),c=s?(r=JSON.parse(s),o=function(e){return e},Object.entries(r).map((function(e,t){var a=Object(h.a)(e,2),n=a[0],r=a[1];return o(r,n,t)}))):[];return n.state={cart:c,searchKey:null},n}return Object(u.a)(a,[{key:"handleSearch",value:function(e){e&&(e=e.trim()),this.setState({searchKey:e})}},{key:"generateProduct_Json",value:function(){var e,t,a=this.state.searchKey;return a?(e=f,t=function(e){return e.keywords.includes(a)||e.key.includes(a)},Object.fromEntries(Object.entries(e).filter((function(e,a){var n=Object(h.a)(e,2),r=n[0],o=n[1];return t(o,r,a)})))):f}},{key:"addToCart",value:function(e){var t=f[e],a=this.state.cart,n=function(e,t){var a,n=Object(i.a)(e.entries());try{for(n.s();!(a=n.n()).done;){var r=Object(h.a)(a.value,2),o=r[0];if(r[1].item===t)return o}}catch(s){n.e(s)}finally{n.f()}return null}(a,t);null===n?(a.push({item:t,quantity:1}),this.setState({cart:a})):(a[n].quantity+=1,this.setState({cart:a})),this.storeToLocalStorage()}},{key:"handleCartItem",value:function(e){this.setState({cart:e}),this.storeToLocalStorage()}},{key:"storeToLocalStorage",value:function(){var e=this.state.cart.map((function(e,t){return["item_".concat(t),e]}));localStorage.setItem("user_cart",JSON.stringify(Object.fromEntries(e)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App container"},r.a.createElement("header",{className:"jumbotron text-left d-flex"},r.a.createElement("img",{src:y.a,alt:"logo",className:"col-2 img-fluid",id:"logo"}),r.a.createElement(b,{item_list:this.state.cart,onChange:function(t){return e.handleCartItem(t)}}),r.a.createElement(v,{onClick:function(t){return e.handleSearch(t)}})),r.a.createElement("main",null,r.a.createElement(k,{product_obj:this.generateProduct_Json(),pictureOnClick:function(t){return e.addToCart(t)}})),r.a.createElement("footer",null,r.a.createElement("small",null,"\xa9 2020 No copyright")))}}]),a}(r.a.Component),k=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"handleClick",value:function(e){var t=e.target.id;return this.props.pictureOnClick(t)}},{key:"showProducts",value:function(e){var t=this,a=[];if(0===Object.keys(e).length)return r.a.createElement("li",{key:"li_no_match",className:"col-11"},"No products match this query");for(var n in e){var o=e[n];a.push(r.a.createElement("li",{key:"li_"+o.name,className:"col-xs-11 col-sm-6 col-md-4 col-xl-3"},r.a.createElement("figure",{className:"figure"},r.a.createElement("img",{src:o.imageURL,alt:o.name,id:o.key,className:"figure-img img-fluid pointer",onClick:function(e){return t.handleClick(e)}}),r.a.createElement("figcaption",{className:"figure-caption"},o.name," $",o.price))))}return a}},{key:"render",value:function(){return r.a.createElement("ul",{className:"row p-0 align-items-end justify-content-start"},this.showProducts(this.props.product_obj))}}]),a}(r.a.Component),b=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={on:!1,sortDirection:"asc",selectedHeaderIndex:0},n.ascSort=n.ascSort.bind(Object(c.a)(n)),n.descSort=n.descSort.bind(Object(c.a)(n)),n}return Object(u.a)(a,[{key:"getColumnValue",value:function(e,t,a){switch(a){case 1:return[e.item.name.localeCompare(t.item.name),0];case 2:return[e.item.price,t.item.price];case 3:return[e.quantity,t.quantity];default:return[0,0]}}},{key:"ascSort",value:function(e,t){var a=this.state.selectedHeaderIndex,n=this.getColumnValue(e,t,a),r=Object(h.a)(n,2);return r[0]-r[1]}},{key:"descSort",value:function(e,t){var a=this.state.selectedHeaderIndex,n=this.getColumnValue(e,t,a),r=Object(h.a)(n,2),o=r[0];return r[1]-o}},{key:"flipSortDirection",value:function(){return"asc"===this.state.sortDirection?"desc":"asc"}},{key:"sortByHeader",value:function(e){var t=this.state.sortDirection,a=this.state.selectedHeaderIndex;a===e?t=this.flipSortDirection():(t="asc",a=e),this.setState({sortDirection:t,selectedHeaderIndex:a})}},{key:"calculateTotalPrice",value:function(){return this.props.item_list.reduce((function(e,t){return e+t.item.price*t.quantity}),0)}},{key:"handleCartChange",value:function(e,t){var a=this.props.item_list,n=a[e].quantity;return t?a[e].quantity+=1:1===n?a.splice(e,1):a[e].quantity-=1,this.props.onChange(a)}},{key:"showCartItem_asTable",value:function(){var e=this,t=this.props.item_list,a=[r.a.createElement("thead",{key:"tHeader"},r.a.createElement("tr",{key:"thead"},r.a.createElement("th",{scope:"col",key:"thead-0"},"#"),r.a.createElement("th",{scope:"col",key:"thead-1",onClick:function(){return e.sortByHeader(1)}},"Product"),r.a.createElement("th",{scope:"col",key:"thead-2",onClick:function(){return e.sortByHeader(2)}},"Price"),r.a.createElement("th",{scope:"col",key:"thead-3",onClick:function(){return e.sortByHeader(3)}},"Quantity")))];if(0===t.length)return r.a.createElement("div",{key:"no_item_in_cart",className:"alert alert-info"},"No products in Cart");var n=[],o="asc"===this.state.sortDirection?this.ascSort:this.descSort;t.sort(o);var s,c=Object(i.a)(t.entries());try{var l=function(){var t=Object(h.a)(s.value,2),a=t[0],o=t[1],c=o.item,i=o.quantity;n.push(r.a.createElement("tr",{key:"tbody-"+a},r.a.createElement("th",{key:"tbody-"+a+"-0",scope:"row"},a+1),r.a.createElement("td",{key:"tbody-"+a+"-1"},c.name),r.a.createElement("td",{key:"tbody-"+a+"-2"},"$",c.price),r.a.createElement("td",{key:"tbody-"+a+"-3"},i,"\xa0",r.a.createElement("button",{type:"button",onClick:function(){return e.handleCartChange(a,!0)},className:"btn btn-sm btn-link py-0"},"+"),r.a.createElement("button",{type:"button",onClick:function(){return e.handleCartChange(a,!1)},className:"btn btn-sm btn-link py-0"},"-"))))};for(c.s();!(s=c.n()).done;)l()}catch(d){c.e(d)}finally{c.f()}n.push(r.a.createElement("tr",{key:"tbody-last",className:"table-secondary"},r.a.createElement("th",{key:"tbody-last-0",scope:"row"},"Total"),r.a.createElement("td",{key:"tbody-last-1",colSpan:"2"},"$",this.calculateTotalPrice()),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-sm btn-link"},"CheckOut"))));var u=r.a.createElement("tbody",{key:"tBody"},n);return r.a.createElement("table",{className:"table table-light table-striped text-left"},a,u)}},{key:"showCartItem_asDropDown",value:function(){var e=this,t=this.props.item_list.length;return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-info",onClick:function(){return e.toggleDropDown()}},"Cart: ",t),r.a.createElement("div",{className:this.state.on?"dropdown-content mt-1":"dropdown-content mt-1 hide"},this.showCartItem_asTable()))}},{key:"toggleDropDown",value:function(){this.setState({on:!this.state.on})}},{key:"render",value:function(){return this.showCartItem_asDropDown()}}]),a}(r.a.Component),v=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={inputValue:""},n}return Object(u.a)(a,[{key:"updateInputValue",value:function(e){this.setState({inputValue:e.target.value})}},{key:"searchProductKeyword",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e||"Enter"===e.key){var t=this.state.inputValue.toLowerCase();return this.props.onClick(t)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ml-auto",id:"searchArea"},r.a.createElement("div",{className:"form-inline"},r.a.createElement("input",{className:"form-control mr-1",placeholder:"Search with keyword",type:"text",id:"searchBar",list:"product_keyword_list",autoComplete:"off",onChange:function(t){return e.updateInputValue(t)},onKeyDown:function(t){return e.searchProductKeyword(t)}}),r.a.createElement("datalist",{id:"product_keyword_list"},r.a.createElement("option",{value:"food"}),r.a.createElement("option",{value:"breakfast"}),r.a.createElement("option",{value:"beverage"})),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.searchProductKeyword()}},"Search")))}}]),a}(r.a.Component),j=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.7c10f7e3.chunk.js.map