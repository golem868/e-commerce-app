{"version":3,"sources":["logo.svg","App.js","serviceWorker.js","index.js"],"names":["module","exports","PRODUCTS","brocoli","key","name","imageURL","keywords","price","grapes","strawberries","cheese","yogurt","toothpaste","shampoo","soap","wine","napkins","App","props","state","cart","searchKey","keyStr","trim","this","setState","obj","fn","v","includes","Object","fromEntries","entries","filter","i","k","product_key","product","currentCart","itemIndex","cart_list","index","item","itemInCart","push","quantity","className","src","logo","alt","id","item_list","onChange","handleCartItem","onClick","handleSearch","product_obj","generateProduct_Json","pictureOnClick","addToCart","React","Component","Home","e","target","content","keys","length","current_product","handleClick","showProducts","Cart","on","sortDirection","selectedHeaderIndex","ascSort","bind","descSort","row1","row2","headerIndex","localeCompare","getColumnValue","val1","sortDir","flipSortDirection","reduce","acc","val","counter","isAdd","target_item_num","splice","tableHead","scope","sortByHeader","cmp","sort","type","handleCartChange","colSpan","calculateTotalPrice","tableBody","itemCount","toggleDropDown","divClass","showCartItem_asTable","showCartItem_asDropDown","SearchArea","inputValue","value","searchStr","toLowerCase","placeholder","list","autoComplete","updateInputValue","onKeyDown","searchProductKeyword","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.2a279fe7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\n// Global helper function\nconst objectFilter = (obj, fn) => {\n  return Object.fromEntries(\n    Object.entries(obj).filter(([k, v], i) => fn(v, k, i))\n  );\n};\n// Analogous data from API call\nconst PRODUCTS = {\n  brocoli: {\n    key: \"brocoli\",\n    name: \"Brocoli\",\n    imageURL:\n      \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/broccoli.jpg\",\n    keywords: [\"vegetable\", \"diet\", \"food\", \"fresh\", \"green\"],\n    price: 4,\n  },\n  grapes: {\n    name: \"Grapes\",\n    key: \"grapes\",\n    imageURL: \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/grape.jpg\",\n    keywords: [\"food\", \"fresh\", \"fruit\", \"green\"],\n    price: 5,\n  },\n  strawberries: {\n    name: \"Strawberries\",\n    key: \"strawberries\",\n    imageURL:\n      \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/strawberry.jpg\",\n    keywords: [\"food\", \"fresh\", \"fruit\", \"breakfast\"],\n    price: 6,\n  },\n  cheese: {\n    name: \"Cheese\",\n    key: \"cheese\",\n    imageURL: \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/cheese2.png\",\n    keywords: [\"dairy\", \"breakfast\", \"food\"],\n    price: 5,\n  },\n  yogurt: {\n    name: \"Yogurt\",\n    key: \"yogurt\",\n    imageURL: \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/yoghurt.png\",\n    keywords: [\"dairy\", \"food\", \"breakfast\"],\n    price: 3,\n  },\n  toothpaste: {\n    name: \"Toothpaste\",\n    key: \"toothpaste\",\n    imageURL:\n      \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/toothpaste.png\",\n    keywords: [\"dental\", \"hygiene\"],\n    price: 10,\n  },\n  shampoo: {\n    name: \"Shampoo\",\n    key: \"shampoo\",\n    imageURL: \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/shampoo.png\",\n    keywords: [\"hair\", \"hygiene\"],\n    price: 15,\n  },\n  soap: {\n    name: \"Soap\",\n    key: \"soap\",\n    imageURL: \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/soap.jpg\",\n    keywords: [\"body\", \"hygiene\"],\n    price: 2,\n  },\n  wine: {\n    name: \"Wine\",\n    key: \"wine\",\n    imageURL: \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/wine.png\",\n    keywords: [\"alcohol\", \"bar\", \"beverage\"],\n    price: 12,\n  },\n  napkins: {\n    name: \"Napkins\",\n    key: \"napkins\",\n    imageURL: \"https://cdn.jsdelivr.net/gh/josecarlosgt/infosys280/napkin.png\",\n    keywords: [\"bar\", \"table\"],\n    price: 4,\n  },\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cart: [], // {item:{PRODUCTS_item},quantity}\n      searchKey: null,\n    };\n  }\n  handleSearch(keyStr) {\n    if (keyStr) {\n      // validate keys\n      // check for only whitespace\n      keyStr = keyStr.trim();\n    }\n    this.setState({\n      searchKey: keyStr,\n    });\n  }\n  generateProduct_Json() {\n    const key = this.state.searchKey;\n    // check for empty string\n    if (key) {\n      // Only accept one complete word search\n      const searchResultObject = objectFilter(PRODUCTS, (v) => {\n        return v.keywords.includes(key);\n      });\n      return searchResultObject;\n    } else {\n      return PRODUCTS;\n    }\n  }\n  // Only handle one item per time\n  addToCart(product_key) {\n    const product = PRODUCTS[product_key];\n    const currentCart = this.state.cart;\n    // Function object\n    const itemInCart = (cart_list, product) => {\n      for (const [index, obj] of cart_list.entries()) {\n        if (obj.item === product) return index;\n      }\n      return null;\n    };\n    const itemIndex = itemInCart(currentCart, product);\n    // handle index 0\n    if (itemIndex === null) {\n      currentCart.push({ item: product, quantity: 1 });\n      this.setState({\n        cart: currentCart,\n      });\n    } else {\n      currentCart[itemIndex].quantity += 1;\n      this.setState({\n        cart: currentCart,\n      });\n    }\n  }\n  handleCartItem(cart_list) {\n    this.setState({\n      cart: cart_list,\n    });\n  }\n  render() {\n    return (\n      <div className=\"App container\">\n        <header className=\"jumbotron text-left d-flex\">\n          <img src={logo} alt=\"logo\" className=\"col-2 img-fluid\" id=\"logo\" />\n          <Cart\n            item_list={this.state.cart}\n            onChange={(cart_list) => this.handleCartItem(cart_list)}\n          />\n          <SearchArea onClick={(keyStr) => this.handleSearch(keyStr)} />\n        </header>\n\n        <main>\n          <Home\n            product_obj={this.generateProduct_Json()}\n            pictureOnClick={(product_key) => this.addToCart(product_key)}\n          />\n        </main>\n\n        <footer>\n          <small>&copy; 2020 No copyright</small>\n        </footer>\n      </div>\n    );\n  }\n}\nclass Home extends React.Component {\n  handleClick(e) {\n    const product_key = e.target.id;\n    return this.props.pictureOnClick(product_key);\n  }\n  showProducts(product_obj) {\n    let content = [];\n    if (Object.keys(product_obj).length === 0) {\n      return (\n        <li key=\"li_no_match\" className=\"col-11\">\n          No products match this query\n        </li>\n      );\n    }\n    for (let product_key in product_obj) {\n      const current_product = product_obj[product_key];\n      //key,name,imageURL,keywords,price\n      content.push(\n        <li\n          key={\"li_\" + current_product.name}\n          className=\"col-xs-11 col-sm-6 col-md-4 col-xl-3\"\n        >\n          <figure className=\"figure\">\n            <img\n              src={current_product.imageURL}\n              alt={current_product.name}\n              id={current_product.key}\n              className=\"figure-img img-fluid pointer\"\n              onClick={(e) => this.handleClick(e)}\n            />\n            <figcaption className=\"figure-caption\">\n              {current_product.name} ${current_product.price}\n            </figcaption>\n          </figure>\n        </li>\n      );\n    }\n    return content;\n  }\n  render() {\n    return (\n      <ul className=\"row p-0 align-items-end justify-content-start\">\n        {this.showProducts(this.props.product_obj)}\n      </ul>\n    );\n  }\n}\nclass Cart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // for dropdown cart table\n      on: false,\n      // for sortable table\n      sortDirection: \"asc\", // 'asc' and ' desc'\n      selectedHeaderIndex: 0,\n    };\n    this.ascSort = this.ascSort.bind(this);\n    this.descSort = this.descSort.bind(this);\n  }\n  getColumnValue(row1, row2, headerIndex) {\n    switch (headerIndex) {\n      case 1:\n        return [row1.item.name.localeCompare(row2.item.name), 0];\n      case 2:\n        return [row1.item.price, row2.item.price];\n      case 3:\n        return [row1.quantity, row2.quantity];\n      default:\n        return [0, 0];\n    }\n  }\n  ascSort(row1, row2) {\n    const headerIndex = this.state.selectedHeaderIndex;\n    const [val1, val2] = this.getColumnValue(row1, row2, headerIndex);\n    return val1 - val2;\n  }\n  descSort(row1, row2) {\n    const headerIndex = this.state.selectedHeaderIndex;\n    const [val1, val2] = this.getColumnValue(row1, row2, headerIndex);\n    return val2 - val1;\n  }\n  flipSortDirection() {\n    return this.state.sortDirection === \"asc\" ? \"desc\" : \"asc\";\n  }\n  sortByHeader(i) {\n    let sortDir = this.state.sortDirection;\n    let headerIndex = this.state.selectedHeaderIndex;\n    if (headerIndex === i) {\n      sortDir = this.flipSortDirection();\n    } else {\n      sortDir = \"asc\";\n      headerIndex = i;\n    }\n    this.setState({\n      sortDirection: sortDir,\n      selectedHeaderIndex: headerIndex,\n    });\n  }\n  calculateTotalPrice() {\n    const total = this.props.item_list.reduce(\n      (acc, val) => acc + val.item.price * val.quantity,\n      0\n    );\n    return total;\n  }\n  handleCartChange(counter, isAdd) {\n    let item_list = this.props.item_list;\n    const target_item_num = item_list[counter].quantity;\n    if (isAdd) {\n      item_list[counter].quantity += 1;\n    } else if (target_item_num === 1) {\n      item_list.splice(counter, 1);\n    } else {\n      item_list[counter].quantity -= 1;\n    }\n    return this.props.onChange(item_list);\n  }\n  showCartItem_asTable() {\n    const cart = this.props.item_list;\n    const tableHead = [\n      <thead key=\"tHeader\">\n        <tr key=\"thead\">\n          <th scope=\"col\" key=\"thead-0\">\n            #\n          </th>\n          <th scope=\"col\" key=\"thead-1\" onClick={() => this.sortByHeader(1)}>\n            Product\n          </th>\n          <th scope=\"col\" key=\"thead-2\" onClick={() => this.sortByHeader(2)}>\n            Price\n          </th>\n          <th scope=\"col\" key=\"thead-3\" onClick={() => this.sortByHeader(3)}>\n            Quantity\n          </th>\n        </tr>\n      </thead>,\n    ];\n    if (cart.length === 0) {\n      return (\n        <div key=\"no_item_in_cart\" className=\"alert alert-info\">\n          No products in Cart\n        </div>\n      );\n    }\n    let content = [];\n    // determine comparator function\n    const cmp =\n      this.state.sortDirection === \"asc\" ? this.ascSort : this.descSort;\n    cart.sort(cmp);\n    for (const [counter, obj] of cart.entries()) {\n      const current_product = obj.item;\n      const quantity = obj.quantity;\n      //key,name,imageURL,keywords,price\n      content.push(\n        <tr key={\"tbody-\" + counter}>\n          <th key={\"tbody-\" + counter + \"-0\"} scope=\"row\">\n            {counter + 1}\n          </th>\n          <td key={\"tbody-\" + counter + \"-1\"}>{current_product.name}</td>\n          <td key={\"tbody-\" + counter + \"-2\"}>${current_product.price}</td>\n          <td key={\"tbody-\" + counter + \"-3\"}>\n            {quantity}&nbsp;\n            <button\n              type=\"button\"\n              onClick={() => this.handleCartChange(counter, true)}\n              className=\"btn btn-sm btn-link py-0\"\n            >\n              +\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => this.handleCartChange(counter, false)}\n              className=\"btn btn-sm btn-link py-0\"\n            >\n              -\n            </button>\n          </td>\n        </tr>\n      );\n    }\n\n    content.push(\n      <tr key=\"tbody-last\" className=\"table-secondary\">\n        <th key=\"tbody-last-0\" scope=\"row\">\n          Total\n        </th>\n        <td key=\"tbody-last-1\" colSpan=\"2\">\n          ${this.calculateTotalPrice()}\n        </td>\n        <td>\n          <button type=\"button\" className=\"btn btn-sm btn-link\">\n            CheckOut\n          </button>\n        </td>\n      </tr>\n    );\n\n    let tableBody = <tbody key=\"tBody\">{content}</tbody>;\n    return (\n      <table className=\"table table-light table-striped text-left\">\n        {tableHead}\n        {tableBody}\n      </table>\n    );\n  }\n  showCartItem_asDropDown() {\n    const itemCount = this.props.item_list.length;\n    let divClass = \"dropdown-content mt-1\";\n    const content = (\n      <div>\n        <button className=\"btn btn-info\" onClick={() => this.toggleDropDown()}>\n          Cart: {itemCount}\n        </button>\n        <div className={this.state.on ? divClass : divClass + \" hide\"}>\n          {this.showCartItem_asTable()}\n        </div>\n      </div>\n    );\n    return content;\n  }\n  toggleDropDown() {\n    this.setState({\n      on: !this.state.on,\n    });\n  }\n  render() {\n    return this.showCartItem_asDropDown();\n  }\n}\nclass SearchArea extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: \"\",\n    };\n  }\n  updateInputValue(e) {\n    this.setState({\n      inputValue: e.target.value,\n    });\n  }\n  searchProductKeyword(e = null) {\n    if (e && e.key !== \"Enter\") {\n      return;\n    }\n    const searchStr = this.state.inputValue.toLowerCase();\n    return this.props.onClick(searchStr);\n  }\n  render() {\n    return (\n      <div className=\"ml-auto\" id=\"searchArea\">\n        <div className=\"form-inline\">\n          <input\n            className=\"form-control mr-1\"\n            placeholder=\"Search with keyword\"\n            type=\"text\"\n            id=\"searchBar\"\n            list=\"product_keyword_list\"\n            autoComplete=\"off\"\n            onChange={(e) => this.updateInputValue(e)}\n            onKeyDown={(e) => this.searchProductKeyword(e)}\n          />\n          <datalist id=\"product_keyword_list\">\n            <option value=\"food\" />\n            <option value=\"breakfast\" />\n            <option value=\"beverage\" />\n          </datalist>\n          <button\n            className=\"btn btn-primary\"\n            type=\"button\"\n            onClick={() => this.searchProductKeyword()}\n          >\n            Search\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import \"bootstrap/dist/css/bootstrap.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}